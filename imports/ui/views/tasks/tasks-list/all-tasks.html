<template name="allTasks">
    <main id="all" class="data-table with-tabs">
        <div class="table-container">
            <div class="row">
                <div class="col s12">
                    <a class="btn add-new" href="{{pathFor 'createTask'}}"><i class="material-icons left">add</i>
                        Create task</a>
                </div>
                <div class="col s12">
                    <div class="table-wrapper">
                        <div class="table-header {{#if isCheckedTasks}}selected{{/if}}">
                            <h4 class="left">{{#if isCheckedTasks}}
                                <a class="remove" href="#"><i class="material-icons left"
                                                              style="margin-left: -3px;">close</i></a> {{checkedCount}}
                                tasks selected{{else}}Tasks{{/if}}</h4>
                            <div class="right">
                                <a id="table_search" class="{{#if isCheckedTasks}}hide{{/if}}" href="#">
                                    <i class="search material-icons left">search</i>
                                    <i class="close material-icons left">close</i>
                                </a>
                                {{#if isCheckedTasks}}
                                    <a href="#" id="archive-tasks"><i class="material-icons left">delete</i></a>
                                    <a href="#"><i class="material-icons left">more_vert</i></a>
                                {{else}}
                                    <a href="#"><i class="material-icons left">filter_list</i></a>
                                {{/if}}
                            </div>
                        </div>
                        <table id="tasks-table" class="row-border" width="100%">
                            <thead>
                            <tr>
                                <th><input type="checkbox" class="filled-in" id="select-all" name="select-all"/><label
                                        for="select-all"></label>Name
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Status
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Key
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Project
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Time tracked
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Assigned to
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th>
                                    Created
                                    <span class="sort">
                        <a href="#"><i class="material-icons sorting_asc">keyboard_arrow_up</i></a>
                        <a href="#"><i class="material-icons sorting_desc">keyboard_arrow_down</i></a>
                      </span>
                                </th>
                                <th></th>
                            </tr>
                            </thead>

                            <tbody>

                            {{#each tasks}}
                                <tr>
                                    <td><input type="checkbox" checked={{isChecked}} class="filled-in" id="{{_id}}"
                                               name="table-item"/><label
                                            for="{{_id}}"></label><a href="" id="task-name">{{name}}</a>
                                    </td>
                                    <td>{{status}}</td>
                                    <td>{{taskKey}}</td>
                                    <td>{{projectName}}</td>
                                    <td>{{formatSecondsAsTime timeTracked}}</td>
                                    <td id="assignedUsers">
                                        {{#if membersIds}}
                                            {{#each membersIds}}
                                                {{>assignedUsersWithPhoto}}
                                            {{/each}}
                                        {{/if}}
                                    </td>
                                    <td>{{formatDate createdAt 'L HH:mm'}}</td>
                                    <td>
                                        {{>taskActions data=this isArchived=false}}
                                    </td>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>
</template>